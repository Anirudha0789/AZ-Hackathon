  read problems statements in mandarin chinese   russian and vietnamese devu and churu like to play mathematical games  today devu got hold of a indexed array a consisting of n integers while churu has an empty array b  they have decided to play with these arrays and have agreed to make their moves turn by turn  devu in his turn will choose a contiguous segment from his array i e  integers l and r such that  ≤ l ≤ r ≤ a where a denotes the current size of array a  he then inserts this contiguous subarray into churu’s array at some position k such that  ≤ k ≤ b where b denotes the current size of array b  for example if devu inserts a subarray of size s at position x into churu’s array then all the elements that were present at position z such that x ≤ z ≤ b will get shifted towards right by s positions  devu’s array would then get rearranged to accumulate the space that was left vacant by removing the segment l to r of his array  in churus turn he has to report the total number of inversions in array b after each of devus move  devu is playing well during each of his moves but churu is getting slower as the number of elements are increasing in his array b  therefore he asks for your help  you are provided with devus array a and a sequence of all his moves  you have to report the inversion count in churus array b after each of devus move  note   in any arbitrary array c a pair of indices x and y such that x  y and cx  cy is known as an inversion  input first line of input contains two space separated integers n and q denoting the size of an array a and number of devus moves  next lines of input contains n space separated integers denoting the elements of devus array  next q lines contain the q moves one move per line  each move consists of three integers l r and k such that  ≤ l ≤ r ≤ a and  ≤ k ≤ b holds  output after each of the devus move report the required answer for churu  constraints  ≤ n q ≤   ≤ ai ≤  subtasks  subtask   ≤ n q ≤    pts  tl   sec subtask   ≤ n q ≤  k  b where b denotes the current size of array b   pts   subtask   ≤ n q ≤    pts   example input                     input     explanation  after q a     b     therefore inversion count in b is   after q a    b      therefore inversion count in b is   after q a   b       therefore inversion count in b is   after q a   b        therefore inversion count in b is     author ★matermind tester ★minimario editorial  codechef comproblemsinvert tags                                   segment trees fenwick trees square root decomposition binary search offline queries                                                              advanced data structures advanced tree structures advanced algorithms algorithms searching queries                                                                                        difficulty rating                        date added  time limit    secs source limit  bytes languages pyth   java c cpp pyth pyp cs ada pypy text pas fpc nodejs ruby php go hask tcl perl scala lua bash js lisp sbcl pas gpc bf cloj d caml fort asm fs wspc lisp clisp scm guile perl erl clps prlg ick nice icon scm chicken pike scm qobi st nem  submit