  petr is organizing petr mitrichev contest   the top n coders according to codechef ratings excluding petr himself agreed to participate in the contest  the participants have been ranked from  to n according to their ratings  petr had asked each participant to choose a coder with rating higher than himself herself whom heshe would like to be teammates with and the ith ranked coders choice is stored as choicei  as expected programmers turned out to be lazy and only a few of them actually filled in their choices  if choicei   then it means the ith coder was lazy and did not fill hisher choice  of course the topranked person i e  rank    gennady korotkevich  obviously despite clearly not being a lazy person was not able to fill any choice because he is the top ranked coder so choice is always equal to   petr being the organizer had to undertake the arduous task of filling in the choices for the lazy participants  unfortunately he also got lazy and adopted the following random strategy for each lazy person i i e  for all i   such that choicei   he flips an unbiased coin i e  with  probability it lands heads and with  probability it lands tails  notice that no coin is flipped for i since gennady is not lazy despite his choice being    if it lands heads he will not change the choice of this person  that is he leaves choicei as   otherwise if it lands tails he will uniformly at random select one of the top i ranked participants as choice of ith person  that is he sets choicei  j where j is randomly and uniformly chosen from  to i inclusive  after this process of filling the choice array petr is wondering about the maximum number of teams he can have such that all the valid choices are respected i e  if choicei  j and j   then i and j should be in the same team     petr now has to arrange for computers  as each team will need a computer he wants to know the expected value of maximum number of teams  as he is too busy in organizing this contest can you please help him  input the first line of input contains t the number of test cases  each test case contains  lines  the first line contains a single integer n  the second line contains n integers which specify the choice array choice choice  choicen  output each test cases output must be in a new line and must be  number which is the expected number of teams  your answer should be within an absolute error of  from the correct answer  constraints   ≤ t ≤   ≤ n ≤  the sum of all the t ns in one test file ≤   ≤ choicei ≤ i  for all  ≤ i  n choice will be equal to  always  example input         output    explanation choice   implies  and  should be in the same team  choice   implies that  and  have to be in the same team  therefore   and  have to be in the same team  also choice   implies that  and  have to be in the same team which means that    and  — all have to be in the same team  the only lazy person is   so with probability  petr leaves his choice unchanged or with the remaining  probability he assigns choice   as  is the only higher ranked person for   in the first case you can get  teams  and      in the second case because choice    and  are forced to be in the same team and hence      is the only possible team  therefore with  probability number of teams   and with another  probability it is   hence expected number of teams              author ★arjunarul editorial  codechef comproblemschnb tags                                   acmchn arjunarul easy expectedvalue graphs trees                                                                                        difficulty rating                       na date added  time limit  secs source limit  bytes languages pyth   java c cpp pyth pyp  submit