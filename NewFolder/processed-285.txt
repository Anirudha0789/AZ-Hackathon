 read problems statements in mandarin chinese russian and vietnamese as well   the kingdom of the snakes is an nxn grid  their mostvalued possession is a huge collection of poison which is stored in the central kxk grid  it is guaranteed that both n and k are odd  what we mean by central is this suppose in the nxn grid i j refers to the cell in the ith row and jth column and  refers to the topleft corner and nn refers to the bottomright corner  then the poison is stored in the kxk square whose topleft corner is  n  k   n  k     but there are thieves who want to steal the poison  they cannot enter the nxn grid but they can shoot arrows from outside  these arrows travel across a row from left to right or right to left or across a column top to bottom or bottom to top in a straight line  if the arrow enters the kxk grid some of the poison will stick to the arrow and if it exits the nxn grid after that the thieves will have successfully stolen some of the poison  as the king of the snakes you want to thwart these attempts  you know that the arrows will break and stop if they hit a snakes scaly skin but wont hurt the snakes  there are some snakes already guarding the poison  each snake occupies some consecutive cells in a straight line inside the nxn grid  that is they are either part of a row or part of a column  note that there can be intersections between the snakes   a configuration of snakes is safe if the thieves cannot steal poison  that is no matter which row or column they shoot arrows from either the arrow should hit a snake and stop this can happen even after it has entered and exited the kxk grid or it shouldnt ever enter the kxk grid  the king has other duties for the snakes and hence wants to remove as many snakes as possible from this configuration such that the remaining configuration is still safe  help him find the minimum number of snakes he needs to leave behind to protect the poison  input  the first line contains a single integer t the number of testcases  the first line of each testcase contains three integers n k and m where n is the size of the entire square grid k is the size of the square containing the poison and m is the number of initial snakes  m lines follow the ith of which contains four integers hxi hyi txi tyi  hxi hyi is the cell which contains the head of the ith snake  txi tyi is the cell which contains the tail of the ith snake  it is guaranteed that both these cells will either lie in the same row or same column  and hence the cells in between them including these two cells represents the ith snake   output  for each testcase output a single integer in a new line the minimum number of the snakes that the king can keep and still protect the poison  if it is not possible to protect the poison even with all the snakes output    constraints   ≤ t ≤   ≤ n ≤   ≤ k ≤ n both n and k will be odd integers  ≤ m ≤   ≤ hxi hyi txi tyi ≤ n it is guaranteed that at least one of hxi  txi and hyi  tyi will be true for all i none of the cells in the kxk grid will be occupied by any snake  example input                                                                 output    explanation the first example corresponds to  note that the topleft corner cell of the nxn grid is by definition   the inner square contains the poison and the seven snakes are shown in different colours  the green snake is the st snake in the input  we can remove all but  snakes and protect the poison  one such configuration is this  you can check that no arrow can enter the inner poison square and exit the outer square without hitting a snake  hence is it safe  also you cannot do this with fewer snakes  hence  is the answer  the second testcase corresponds to  you can check that even with all the snakes this is not a safe configuration because the thieves can shoot an arrow down the th column and they can steal poison  hence the answer is    author admin tester ★kingofnumbers editorial  codechef comproblemsprotepoi tags                                   geometry greedy sorting                                                              mathematics algorithms                                                                                        difficulty rating                       na date added  time limit  secs source limit  bytes languages pyth   java c cpp pyth pyp cs ada pypy text pas fpc nodejs ruby php go hask tcl perl scala lua bash js lisp sbcl pas gpc bf cloj d caml fort asm fs wspc lisp clisp scm guile perl erl clps prlg ick nice icon scm chicken pike scm qobi st nem  submit